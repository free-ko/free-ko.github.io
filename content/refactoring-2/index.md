---
emoji: 👋
title: '리팩터링 2장'
date: '2023-07-14 20:01:00'
author: Kay
tags: 블로그 github-pages gatsby
categories: Study
---

## 2.1 리팩터링 정의

1. 리팩터링의 사전적 정의

> 소프트웨어의 겉보기 동작은 그대로 유지한 채, 코드를 이해하고 수정하기 쉽도록 내부 구조를 변경하는 기법

2. 리팩터링 이란

   - 동작을 보존하는 작은 단계들을 거쳐 코드를 수정하고, 이러한 단계들을 순차적으로 연결하여 큰 변화를 만들어내는 일
   - “재구성” 의 특수한 한 형태
   - 단계를 작게 나눔으로써 구성을 체계화할 수 있고, 디버깅 시간을 단축할 수 있음
   - 사용자 관점에서는 달라지는 점이 없음
   - 리팩터링 과정에서 발견된 버그는 리팩터링 후에도 그대로 남아 있어야 함
   - 성능 최적화와 비슷
   - 코드를 이해하고 수정하기 쉽게 만드는 것

<br>

## 2.2 두 개의 모자

1. 켄트 백은 소프트웨어 개발의 목적을 `기능 추가` 또는 `리팩터링` 으로 나누고, 이를 두 개의 모자라고 명명한다.
2. `기능 추가` 시에는 기존 코드는 절대 건드리지 않고 새 기능을 추가하기만 한다.
3. 반면 `리팩터링` 시에는 기능 추가는 절대 하지 말아야 한다. (테스트도 새로 만들지 않는다)

<br>

## 2.3 리팩터링하는 이유

1. 리팩터링하면 소프트웨어 설계가 좋아짐

   - 리팩터링하지 않으면 코드 구조가 무너지고, 설계를 유지하기 어려워지고, 더욱 빨리 부패함
   - 중복 코드를 제거하여 코드량을 줄인다고 시스템이 빨라지는 것은 않지만, 수정하는 데 드는 노력과 이해해야할 코드량이 크게 줄어듬

2. 리팩터링하면 소프트웨어를 이해하기 쉬워짐

   - 다른 사람이 내 코드를 이해할 수 있도록 작성해야 함
   - 리팩터링은 코드가 더 잘 읽히게 도와줌
   - 코드의 목적이 더 잘 드러나게, 내 의도를 더 명확하게 전달하도록 개선할 수 있음
   - 추후에 나 자신이 코드를 다시 봤을 때 이해하기도 쉬워 짐

3. 리팩터링하면 프로그래밍 속도를 높일 수 있음
   - 내부 설계가 잘 된 소프트웨어는 새로운 기능을 추가할 지점과 어떻게 고칠지를 쉽게 찾을 수 있음
   - 모듈화가 잘 되어 있으면 전체 코드베이스 중 작은 일부만 이해하면 됨
   - 저자는 이를 ‘지구력 가설’ 이라고 부름
   - 내부 설계에 심혈을 기울이면 소프트웨어의 지구력이 높아져서 빠르게 개발할 수 있는 상태를 더 오래 지속할 수 있음

<br>

## 2.4 리팩터링 해야 하는 시기

1. 3의 법칙

   - 처음에 그냥 진행
   - 비슷한 일을 두 번째로 하게 되면, 일단 계속 진행
   - 비슷한 일을 세 번째 하게 되면 리팩터링 진행

2. 준비를 위한 리팩터링(기능을 쉽게 추가하게 만들기)
   - 리팩터링하기 가장 좋은 시점은 코드베이스에 기능을 새로 추가하기 직전
   - 이 시점에 현재 코드를 살펴보면서, 구조를 살짝 바꾸면 다른 작업을 하기가 훨씬 쉬워질 만한 부분을 찾음
   - 버그를 잡을 때도 마찬가지
   - 상황을 개선해놓으면 버그가 수정된 상태가 오래 지속될 가능성을 높이는 동시에, 같은 곳에서 다른 버그가 발생할 가능성을 줄여 줌

<br>

### 참고

- [리팩터링 2판 책](https://www.yes24.com/Product/Goods/89649360)

```toc

```
